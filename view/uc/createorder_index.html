{% extends "./inc/base.html" %}
{% block style%}
<link href="/static/assets/css/layout-shop.css" rel="stylesheet" type="text/css" />

<style type="text/css">
    .progress_bar {
        width: 100%;
        padding: 150px 0 10px;
    }
    ol, ul {
        margin-top: 0;
        margin-bottom: 5px;
    }
    ul li, ol li {
        list-style: none;
    }
    .progress_bar li {
        float: left;
        width: 25%;
        border-top: 6px solid #b8d7d9;
        text-align: center;
        color: #b8d7d9;
        position: relative;
        line-height: 42px;
    }
    .progress_bar li {
        width: 33.33% !important;
    }
    .progress_bar .complete {
        color: #1eb6c1;
        border-top: 6px solid #1eb6c1;
    }
    .progress_bar li i {
        position: absolute;
        left: 50%;
        margin-left: -10px;
        top: -13px;
        height: 20px;
        width: 20px;

        background: url(http://pic.c-ctrip.com/vacation_v1/un_base_common.png?20131118.png) -64px 0 no-repeat;
    }
    .progress_bar .complete i {
        background-position: -36px 0;
        background: #1eb6c1;
        border-radius: 50%;
    }
    .progress_bar li p {
        position: absolute;
        left: 50%;
        margin-left: -6px;
        top: -10px;
        height: 12px;
        width: 12px;
    }
    .progress_bar .complete p {
        background: #fff;
        border-radius: 50%;
    }
    .progress_bar .disabled i {
        background-position: -36px 0;
        background: #b8d7d9;
        border-radius: 50%;
    }
    .progress_bar .disabled p {
        background: #fff;
        border-radius: 50%;
    }

    .book_product {
        position: relative;
        background-color: #fff;
        border: 5px solid #1eb6c1;
        margin-bottom: 20px;
        padding: 20px;
        margin-top: 50px;
    }
    .book_product h2 {
        font: bold 20px/26px "Microsoft Yahei",simsun;
        margin-bottom: 10px;
        color: #333;
    }
    .book_product .book_detail {
        position: absolute;
        bottom: 0;
        right: 0;
        background-color: #1eb6c1;
        padding: 2px 5px;
        color: #fff;
    }
    .book_product .book_detail i {
        display: inline-block;
        width: 0;
        height: 0;
        line-height: 0;
        cursor: pointer;
        vertical-align: middle;
        margin-left: 2px;
        margin-top: 8px;
    }
    .book_product .book_detail i.close {
        border-style: none dashed solid dashed;
        border-width: 0 5px 5px 5px;
        border-color: transparent transparent #fff transparent;
    }
    :root .book_product .book_detail i.close {
        border-width: 0 4px 4px 4px;
    }
    .book_product .book_detail i.up {
        border-style: solid dashed none dashed;
        border-width: 4px 4px 0 4px;
        border-color: #fff transparent transparent transparent;
    }
    .book_product_content {
        border-top: solid 1px #DFDDDD;
        padding: 5px 0;
    }
    .book_product_name {
        float: left;
        width: 100px;
        color: #333;
        font: 20px/26px "Microsoft Yahei",simsun;
    }
    .book_table_list {
        float: right;
        width: 790px;
        table-layout: fixed;
    }
    .book_width_all04 .width01 {
        width: 90px;
    }
    .book_table_list td {
        padding: 5px;
        vertical-align: top;
    }
    .basefix:after, .layoutfix:after {
        clear: both;
        content: '.';
        display: block;
        height: 0;
        overflow: hidden;
    }

    .input_info {
        background-color: #fff;
        /*border: 1px solid #D5D5D5;*/
        margin-bottom: 20px;
        overflow: hidden;
    }
    .input_info h3 {
        position: relative;
        z-index: 3;
        background-color: #dff4f4;
        font: 18px/32px "Microsoft Yahei",simsun;
        font-weight: bold;
        height: 32px;
        padding: 0 20px;
        margin-bottom: 0px;
    }
    .input_info .product_input {
        margin: -1px 20px 0 20px;
        padding: 25px 0 10px;
        position: relative;
        border-top: #D5D5D5 solid 1px;
    }
    .input_info .product_input h4 {
        float: left;
        font: 16px/20px "Microsoft Yahei",simsun;
        width: 120px;
    }
    .input_info .input_box {
        float: left;
        width: 770px;
    }
    .input_info .input_box li {
        padding-bottom: 15px;
    }
    .input_info .input_box .point {
        color: #999;
        font-size: 12px;
    }
    .show_all_info {
        clear: both;
        padding-bottom: 10px;
        padding-left: 120px;
    }
    .show_all_info .btn_item {
        cursor: pointer;
    }
    .show_all_info a, .show_all_info i {
        display: inline-block;
        vertical-align: middle;
        overflow: hidden;
    }
    .show_all_info a {
        margin-right: 4px;
    }
    .icon_arrow_down {
        cursor: pointer;
        width: 0;
        height: 0;
        border-width: 6px 6px 0;
        border-color: #0065bb transparent transparent;
        border-style: solid dashed dashed;
    }
    .input_info .promotion_code {
        margin: 0 20px 0 138px;
        border: 0 none;
        padding: 10px;
        /*background: #f7f7f7;*/
    }
    .input_info .product_input .except_tit {
        width: 178px;
    }
    .input_info .promotion_code h4.except_tit {
        font: 14px/20px "Microsoft Yahei",simsun;
    }
    .input_info .except_list {
        width: 550px;
    }
    .input_info .coupons li {
        vertical-align: top;
        padding-bottom: 10px;
    }
    .input_info .promotion_code .coupons li {
        /*padding-bottom: 0;*/
    }
    input[type="text"], input[type="number"] {
        padding: 3px;
        border: solid 1px #CCC;
        box-shadow: 1px 1px 3px #DDDDDD inset;
    }
    .input_info .input_box input, .input_info .ticket_search {
        _height: 14px;
        _padding: 2px;
    }
    .input_info .input_box input {
        display: inline-block;
        vertical-align: middle;
    }
    .input_info .input_box input.input_sale {
        margin-left: 5px;
        width: 130px;
    }
    .input_info .input_box input.btn_submit {
        height: 23px;
        line-height: 20px;
        background-color: #f8f9f8;
        color: #333;
        border: 1px solid #bbb;
        text-align: center;
        display: inline-block;
        width: 60px;
        border-radius: 3px;
        cursor: pointer;
        margin: 0 5px;
    }
    .input_info .input_box li:after {
        clear: both;
        content: ".";
        display: block;
        height: 0;
        overflow: hidden;
    }

    .linkman_tips {
        font-size: 12px;
        font-weight: normal;
        color: #999;
        margin-left: 35px;
    }
    .linkman_info {
        margin-left: 120px;
        _display: inline;
    }
    .input_info .product_label {
        float: left;
        padding-right: 10px;
        text-align: right;
        width: 76px;
    }
    .frm_required {
        color: #F00;
        text-align: center;
        font-family: Arial;
    }
    .input_box li .frm_required {
        float: left;
        width: 10px;
        margin-left: -10px;
    }
    .input_info .input_box .input_m {
        width: 270px;
    }
    .input_info .input_box .hrs {
        color: #999;
        margin-left: 8px;
    }
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none !important;
        margin: 0; 
    }

    .input_info h3 .title {
        float: left;
        color: #414141;
    }
    .input_info h3 .tips_txt {
        float: left;
        font-size: 12px;
        font-weight: normal;
        color: #999;
        margin-left: 35px;
    }
    .input_info .input_box input, .input_info .ticket_search {
        _height: 14px;
        _padding: 2px;
    }
    .input_info .ticket_search {
    	background-image: url(http://pic.c-ctrip.com/vacation_v1/bg_book.png?20150619.png);
        _background-image: url(http://pic.c-ctrip.com/vacation_v1/bg_book_ie.png?20150619.png);
        background-repeat: no-repeat;
        background-position: 124px -64px;
        margin-left: 30px;
        margin-top: 4px;
        vertical-align: 3px;
        width: 140px;
        background-color: #fff;
        color: #999;
        border: 1px solid #ccc;
        height: 24px;
        padding: 3px;
        font-size: 12px;
        font-weight: normal;
    }
    .input_info .product_input_border {
        border-bottom: 1px solid #eaeaea;
    }
    .warm_Tip {
        padding: 0 20px;
        line-height: 30px;
        background: #e8f4ff;
        margin-bottom: 20px;
        color: #666;
    }
    .input_info .product_input h4 {
        float: left;
        font: 16px/20px "Microsoft Yahei",simsun;
        width: 120px;
    }
    .input_info .product_input h4 span {
        display: inline-block;
        border-radius: 2px;
        font: 12px/14px simsun;
        padding: 2px;
        color: #fff;
    }
    .input_info .product_input h4 .adult {
        background-color: #60B7FF;
    }
    .input_info .product_input h4 .child {
        background-color: #FFB947;
        margin-right: 6px;
    }
    .input_info .input_box a.explain {
        padding-left: 10px;
        text-decoration: underline;
    }
    select {
        padding: 1px;
        font-family: Arial,Simsun,sans-serif;
        border: 1px solid #CCC;
        background-color: #FFF;
    }
    .input_info .input_box select {
        width: 100px;
        vertical-align: middle;
        display: inline-block;
        height: 29px;
        border-radius: 0px;
    }
    .input_info .input_box input.input_s {
        margin-left: 7px;
        width: 160px;
    }
    .input_info .input_box li .help_block {
        background: #E8F4FF;
        border: 1px solid #67A1E2;
        color: #333;
        display: block;
        margin-left: 76px;
        margin-top: 8px;
        padding: 2px 6px 3px 20px;
        position: relative;
        text-align: left;
        width: 430px;
        font-size: 12px;
    }
    .help_block .ico, .help_block_i .ico {
    	background-image: url(http://pic.c-ctrip.com/vacation_v1/bg_book.png?20150619.png);
        _background-image: url(http://pic.c-ctrip.com/vacation_v1/bg_book_ie.png?20150619.png);
        background-repeat: no-repeat;
        left: 4px;
        position: absolute;
        top: 6px;
        background-position: 0 -119px;
        display: block;
        overflow: hidden;
        width: 12px;
        height: 12px;
    }
    .input_radio {
        color: #333;
        margin-right: 10px;
        display: inline-block;
    }
    .input_radio i {
        background: url(http://pic.c-ctrip.com/vacation_v1/input_radio.png?20150619.png) no-repeat 0 0;
        display: inline-block;
        width: 16px;
        height: 16px;
        line-height: 16px;
        vertical-align: bottom;
        padding-right: 3px;
        cursor: pointer;
    }
    .input_info .save_wrap {
        float: left;
        margin-left: -100px;
        overflow: hidden;
        width: 100px;
        line-height: 16px;
    }
    .input_info .save_wrap .save {
        color: #333;
        float: left;
        height: 16px;
        line-height: 16px;
        margin-right: 20px;
    }
    .input_info .save_wrap .save i, .input_info .save_wrap .selected i {
    	background-image: url(http://pic.c-ctrip.com/vacation_v1/bg_book.png?20150619.png);
        _background-image: url(http://pic.c-ctrip.com/vacation_v1/bg_book_ie.png?20150619.png);
        background-repeat: no-repeat;
    }
    .input_info .save_wrap .save i {
        background-position: -55px -46px;
        display: inline-block;
        float: left;
        height: 16px;
        margin-right: 4px;
        width: 16px;
    }
    .input_info .save_wrap .selected i {
        background-position: -37px -46px;
    }
    .input_info .input_box input.input_englishname {
    	width: 130px;
    }
    .reserve_limited {
        line-height: 20px;
        color: #6a6a6a;
        margin: 20px 0;
        padding: 0 20px;
    }
    .reserve_limited h4 {
        line-height: 24px;
        font-size: 16px;
        font-weight: normal;
        font-family: 'microsoft yahei';
        margin-bottom: 5px;
    }
    .input_info .product_input h4 {
        float: left;
        font: 16px/20px "Microsoft Yahei",simsun;
        width: 120px;
    }
    .input_info .input_box .point {
        color: #999;
        font-size: 12px;
    }
    .input_info .input_box li.default {
        padding-left: 80px;
    }
    .input_info .input_box li.default .revise {
        float: left;
        margin-left: -80px;
    }
    .input_info .input_box li .invoice_box_con {
        line-height: 20px;
    }
    .input_info .input_box li.default span {
        margin-right: 10px;
    }
    .input_info .product_input .more_close, .input_info .product_input .more_close:hover {
        display: inline-block;
        padding-bottom: 10px;
        color: #333;
        text-decoration: underline;
    }
    .extras_box {
        float: left;
        width: 770px;
    }
    .extras_box textarea {
        width: 460px;
        height: 70px;
        margin-top: 10px;
        padding: 0 5px;
        font-size: 12px;
    }
    .defray_box {
        zoom: 1;
        position: relative;
        min-height: 56px;
        _height: 56px;
        margin-bottom: 20px;
        background-color: #FFF;
        /*border: 1px solid #e9eaeb;*/
    }
    .defray_shop_box {
        height: 56px;
        line-height: 56px;
        float: left;
        width: inherit;
        border-right: 0 none;
        overflow: hidden;
    }
    .defray_box .defray_shop_box {
        float: left;
    }
    .defray_shop_box .prev_stop {
        float: left;
        width: 100px;
        display: inline-block;
        padding-left: 35px;
        position: relative;
        color: #1eb6c1;
    }
    .defray_shop_box .prev_stop b {
    	background-image: url(http://pic.c-ctrip.com/vacation_v1/bg_book.png?20150619.png);
        _background-image: url(http://pic.c-ctrip.com/vacation_v1/bg_book_ie.png?20150619.png);
        background-repeat: no-repeat;
        position: absolute;
        top: 22px;
        left: 17px;
        width: 15px;
        height: 16px;
        background-position: 0 -220px;
        overflow: hidden;
    }
    .defray_box form .prev_stop {
        float: left;
        width: 100px;
        display: inline-block;
        padding-left: 35px;
        position: relative;
        height: 56px;
        line-height: 56px;
        color: #1eb6c1;
    }
    .defray_shop_box .total {
        display: none;
        float: right;
        border-left: 1px solid #ffeab8;
        background-color: #fff8df;
        height: 56px;
        width: 173px;
    }
    .btn_proess_big, .btn_proess_big:hover, .btn_proess_big_disabled, .btn_proess_big_disabled:hover {
        height: 56px;
        padding: 0 10px;
        font: 20px/56px 'microsoft yahei',simsun,sans-serif;
    }
    .btn_proess_big {
        display: inline-block;
        background-color: #1eb6c1;
        background-image: -webkit-linear-gradient(top, #1eb6c1, #1eb6c1);
        background-image: -moz-linear-gradient(top, #1eb6c1, #1eb6c1);
        background-image: -ms-linear-gradient(top, #1eb6c1, #1eb6c1);
        background-image: -o-linear-gradient(top, #1eb6c1, #1eb6c1);
        background-image: linear-gradient(top, #1eb6c1, #1eb6c1);
        color: #fff;
        text-align: center;
        border: 1px solid #1eb6c1;
        -webkit-box-shadow: inset 0 1px 0 0 #1eb6c1;
        box-shadow: inset 0 1px 0 0 #1eb6c1;
    }
    .btn_proess_big {
        float: left;
        width: 240px;
        margin-right: -4px;
        border-radius: 4px;
    }
    .defray_box .btn_proess_big {
        position: absolute;
        right: -1px;
        bottom: 0px;
        margin: 0;
    }
    a.btn_proess_big:hover, a.btn_proess_big:focus {
    	color: #fff;
    }
    .special_tips {
        font-size: 16px;
        font-weight: bold;
        color: #444;
        padding: 20px 20px 0;
    }
    .input_info .content_box {
        margin: 20px;
        max-height: 400px;
        _height: 400px;
        overflow-y: scroll;
        line-height: 180%;
    }
    .input_radio.selected i {
        background-position: 0 -16px;
    }

    .tuna_jmpinfo {
        margin: 20px;
        color: #333;
        font: 12px/2 Arial,Tahoma,simsun;
        -webkit-text-size-adjust: none;
    }
    .tuna_jmpinfo .jmp_alert {
        border: 1px solid #ffb533;
        background: #fff5d1;
    }
    .tuna_jmpinfo .base_jmp_l {
        margin-left: 18px;
    }
    .tuna_jmpinfo .base_jmp b {
        position: absolute;
        width: 16px;
        height: 16px;
        background-image: url(http://pic.c-ctrip.com/common/un_jmp_tri.png);
        background-repeat: no-repeat;
        overflow: hidden;
        border-top: none;
    }
    .tuna_jmpinfo .base_jmp_l b {
        margin-top: 10px;
        left: 9px;
    }
    .tuna_jmpinfo .jmp_alert .tri_l {
        background-position: -16px -48px;
    }
    .tuna_jmpinfo .jmp_bd {
        padding: 2px 3px;
    }

</style>
{% endblock %}
{% block content %}
{#
    	<!-- 
				PAGE HEADER 
				
				CLASSES:
					.page-header-xs	= 20px margins
					.page-header-md	= 50px margins
					.page-header-lg	= 80px margins
					.page-header-xlg= 130px margins
					.dark			= dark page header

					.shadow-before-1 	= shadow 1 header top
					.shadow-after-1 	= shadow 1 header bottom
					.shadow-before-2 	= shadow 2 header top
					.shadow-after-2 	= shadow 2 header bottom
					.shadow-before-3 	= shadow 3 header top
					.shadow-after-3 	= shadow 3 header bottom
			-->
			<section class="page-header page-header-xs">
				<div class="container">

					<!--<h1>{{controller.meta_title}}</h1>-->

					<!-- breadcrumbs -->
					<ol class="breadcrumb breadcrumb-inverse">
						<li><a href="/">首页</a></li>
						<li class="active">{{controller.meta_title}}</li>
					</ol><!-- /breadcrumbs -->

				</div>
			</section>
			<!-- /PAGE HEADER -->

#}


			<!-- CART -->
             <!-- <form class = "form-post" method="post" action="/uc/booking/createorder" style="background: #eff7f9;"> -->
			<section style="background: #eff7f9;">
				<div class="container">

                	<div class="book_product" id="productID">
                		<h2>{{amountinfo.title}}</h2>
                		<a href="###" class="book_detail" id="js_options_book">隐藏明细<i class="close"></i></a>
                		<div id="js_options_product">
                			<div class="book_product_content basefix" style="display: block;">
                				<div class="book_product_name">行程</div>
                				<table class="book_table_list book_width_all04">
                					<colgroup>
                						<col class="width01">
                						<col class="width02">
                					</colgroup>
                					<tbody>
                						<tr>
                							<td>订单号{{orderinfo.order_no}}</td>
                						</tr>
                                        <tr><td>标题{{orderinfo.titile}}</td></tr>
                                        <tr><td>人数{{orderinfo.totol_quantity}}</td></tr>
                                        <tr><td>出发日期{{orderinfo.start_date}}</td></tr>
                                        <tr><td>订单金额{{orderinfo.order_amount}}</td></tr>
        
                					</tbody>
                				</table>
                			</div>
                		</div>
                	</div>




				</div>
			</section>
      <!-- </form> -->
			<!-- /CART -->

<div id="order_warning" class="tuna_jmpinfo" group="no_group" style="min-width: 120px; max-width: 260px; display: none; z-index: 999; margin: 0px; padding: 0px; left: 31%; top: 18px; overflow: hidden; position: absolute; width: auto !important; border-radius: 5px;">
	<div class="base_jmp jmp_alert base_jmp_l" id="boxId" style="border-radius: 5px;">
		<b class="tri_l" id="arrowId" style="display: block; left: 12px; margin-top: 10px;"></b>
		<div class="" id="loadingId"></div>
		<div class="jmp_content" id="contentId">
			<div class="jmp_bd">输入不能为空</div>
		</div>
	</div>
</div>

{#
<div class="modal fade add-addr-dialog" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">

			<!-- header modal -->
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title " id="myLargeModalLabel">新增收货人信息</h4>
			</div>

			<!-- body modal -->
			<div class="modal-body">
				<form  method="post"  class="add-addr" >
									<fieldset>
										<!-- required [php action request] -->
										<div class="row">
											<div class="form-group" id="areas">
												<div class="col-md-3 col-sm-12">
													<label>所在地区（省份/直辖市） *</label>
													<select class="form-control pointer " id="province" name="province" required>
														<option value="">--- 省份/直辖市 ---</option>
														
													</select>
												</div>
                                                <div class="col-md-3 col-sm-12">
													<label>（市） *</label>
													<select class="form-control pointer " id="city" name="city" required>
														<option value="">--- 市 ---</option>
														
													</select>
												</div>
                                                <div class="col-md-3 col-sm-12">
													<label>（县/区） *</label>
													<select class="form-control pointer " id="county" name="county" required>
														<option value="">--- 县/区 ---</option>
													</select>
												</div>
											</div>
										</div>
                                          <div class="row">
											<div class="form-group">
												<div class="col-md-12 col-sm-12">
													<label>街道地址 *</label>
													<textarea class="form-control required" name="addr" required></textarea>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="form-group">
												<div class="col-md-6 col-sm-6">
													<label>邮政编码 *</label>
													<input type="text" class="form-control required" value="" name="zip" required>
												</div>
												<div class="col-md-6 col-sm-6">
													<label>手机号码 *</label>
													<input type="text" class="form-control required" value="" name="mobile" required>
												</div>
											</div>
										</div>

										<div class="row">
											<div class="form-group">
												<div class="col-md-6 col-sm-6">
													<label>收货人姓名 *</label>
													<input type="text" class="form-control required" value="" name="accept_name" required>
												</div>
												<div class="col-md-6 col-sm-6">
													<label>电话号码 </label>
													<input type="text" class="form-control " value="" name="phone">
												</div>
											</div>
										</div>

										

										<div class="row">
											<div class="form-group">
												<div class="col-md-12 col-sm-12">
													<label>
														设为默认地址
														
													</label>
													<!-- checkbox -->
                                        <label class="checkbox">
                                            <input type="checkbox" value="1" name="is_default">
                                            <i></i> 设置为默认收货地址
                                        </label>
												</div>
											</div>
										</div>

									</fieldset>
									<div class="row">
										<div class="col-md-12">
											<button class="btn btn-3d btn-teal btn-lg btn-block margin-top-30" type="submit">
												保存收货人地址
											</button>
										</div>
									</div>

				</form>	
			</div>
  
		</div>
	</div>
</div>
#}
{% endblock %}

{% block script%}
<!-- PAGE LEVEL SCRIPTS -->
		<script type="text/javascript" src="/static/assets/js/view/demo.shop.js"></script>

<script type="text/javascript">
	$(document).ready(function() {
		// console.log({{travellerlist.length}});
		// console.log("status: " + {{status}});
	});
	var isInputValid = true;
	var warning_left;
	var warning_top;
	function submit_order(order) {
		isInputValid = true;
		$("#product_temp_order").val(order);
		$("#product_discount_code").val($("#J_couponCodeInput").val());
		$("#product_user_remark").val($("#other_remark").val());

		var array = $("#linkManID input");
		var str_data = "";
		$.each(array, function(index){
			// console.log("required = " + $(this).attr("required"));
			if($(this).attr("required") == 'required') {
				// console.log("required: required, " + "name = " + $(this).attr("name"));
				if($(this).val() == '') {
					// console.log("empty");
					isInputValid = false;
					warning_left = $(this).offset().left + $(this).width();
					warning_top = $(this).offset().top;
					console.log("left: " + warning_left + ", top: " + warning_top);
					return false;
				}
			}
			str_data = str_data + ('"' + $(this).attr("name") + '":"' + $(this).val() + '"');
			if(index < array.length - 1) {
				str_data = str_data + ",";
			}
		});
		event.stopPropagation();
		if(!isInputValid) {
			// console.log("isInputValid");
			$("#order_warning").show();
			$("#order_warning").css("left", warning_left + "px");
			$("#order_warning").css("top", warning_top + "px");
			$('html,body').animate({scrollTop: warning_top - 100}, 400, 'easeInOutExpo');
			// $(window).offset.top = warning_top;
			return false;
		}
		console.log("str_data: " + "{" + str_data + "}");
		$("#product_connectinfo").val("{" + str_data + "}");

		array = $("#travellersID .product_input");
		// console.log("array.length = " + array.length);
		str_data = "";
		$.each(array, function(index) {
			var inputs = $(this).find("select,input");
			var str = "";
			$.each(inputs, function(index1){
				// console.log("name = " + $(this).attr("name"));
				if($(this).attr("required") == 'required') {
					// console.log("required: required, " + "name = " + $(this).attr("name"));
					if($(this).val() == '') {
						// console.log("empty");
						isInputValid = false;
						warning_left = $(this).offset().left + $(this).width();
						warning_top = $(this).offset().top;
						console.log("left: " + warning_left + ", top: " + warning_top);
						return false;
					}
				}
				str = str + ('"' + $(this).attr("name") + '":"' + $(this).val() + '"');
				if(index1 < inputs.length - 1)
					str = str + ",";
			});
			if(!isInputValid)
				return false;
			str_data = str_data + "{" + str + "}";
			if(index < array.length - 1)
				str_data = str_data + ",";
		});
		if(!isInputValid) {
			// console.log("isInputValid");
			$("#order_warning").show();
			$("#order_warning").css("left", warning_left + "px");
			$("#order_warning").css("top", warning_top + "px");
			$('html,body').animate({scrollTop: warning_top - 100}, 400, 'easeInOutExpo');
			// $(window).offset.top = warning_top;
			return false;
		}
		console.log("str_data: " + "[" + str_data + "]");
		$("#product_travellersinfo").val("[" + str_data + "]");

		$("#form-order").submit();
	}

	$(function(){ 
		$(document).bind("click",function(e){ 
			// console.log("click");
			var target = $(e.target); 
			if(target.closest("#order_warning").length == 0){ 
				// console.log("hide");
				$("#order_warning").hide(); 
			} 
		}) 
	})
</script>
{% endblock %}